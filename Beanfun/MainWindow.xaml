<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Beanfun"
        x:Class="Beanfun.MainWindow"
        ResizeMode="CanMinimize"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterScreen"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        Activated="Window_Activated"
        Deactivated="Window_Activated"
        StateChanged="Window_StateChanged"
    >
    <Window.Resources>
        <Style x:Key="TitleBarButton" TargetType="{x:Type Button}">
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="{x:Null}"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="True">
                            <ContentPresenter ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" ContentStringFormat="{TemplateBinding ContentStringFormat}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="Gray"/>
                                <Setter Property="Background" TargetName="Bd" Value="#3C000000"/>
                            </Trigger>
                            <Trigger Property="IsKeyboardFocused" Value="True">
                                <Setter Property="Foreground" Value="Black"/>
                                <Setter Property="Background" TargetName="Bd" Value="#3C000000"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Foreground" Value="Black"/>
                                <Setter Property="Background" TargetName="Bd" Value="#3C000000"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <WindowChrome.WindowChrome>
        <WindowChrome x:Name="WinChrome" GlassFrameThickness="0, 1, 0, 0" UseAeroCaptionButtons="False" NonClientFrameEdges="None"/>
    </WindowChrome.WindowChrome>
    <Grid>
        <StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Top" Margin="10" Height="25">
                    <Path x:Name="LogoIcon" Fill="Black" Stretch="Uniform" RenderTransformOrigin="0.5,0.5" Data="M1177 974 c-4 -4 -7 -18 -7 -30 0 -17 -7 -23 -27 -26 -39 -4 -39 -42 -1 -46 21 -3 27 -9 30 -30 2 -19 9 -27 23 -27 18 0 20 7 20 80 0 64 -3 80 -15 83 -9 1 -19 0 -23 -4z M1240 905 c-10 -11 -10 -19 -2 -27 15 -15 44 -2 40 19 -4 23 -22 27 -38 8z M98 840 c-178 -94 -100 -335 146 -455 145 -71 285 -90 438 -61 103 20 173 49 173 72 0 24 -3 24 -105 -10 -154 -52 -337 -39 -487 35 -76 36 -167 117 -195 173 -29 55 -29 126 -2 163 46 63 113 75 249 47 56 -12 80 -13 88 -5 19 19 -6 32 -84 47 -103 19 -176 17 -221 -6z M745 840 c-51 -11 -132 -19 -187 -20 -96 0 -123 -9 -99 -33 18 -18 190 -11 311 12 166 33 208 27 264 -39 65 -77 11 -203 -130 -306 -22 -17 -26 -25 -18 -34 19 -19 51 -3 113 58 68 68 93 117 99 194 5 68 -19 120 -75 158 -48 33 -152 36 -278 10z M394 660 c-61 -34 -77 -52 -72 -82 6 -43 85 -31 110 16 16 29 27 85 19 90 -4 3 -30 -8 -57 -24z M535 627 c-22 -83 -18 -102 20 -102 37 0 58 35 49 85 -6 38 -29 80 -43 80 -5 0 -16 -29 -26 -63z M675 643 c18 -59 45 -97 74 -101 27 -4 42 32 29 71 -11 30 -72 77 -100 77 -16 0 -16 -4 -3 -47z">
                        <Path.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleY="-1" ScaleX="1"/>
                                <SkewTransform AngleY="0" AngleX="0"/>
                                <RotateTransform Angle="0"/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Path.RenderTransform>
                    </Path>
                    <Path Margin="5 5 5 0" Fill="{Binding ElementName=LogoIcon, Path=Fill}" Stretch="{Binding ElementName=LogoIcon, Path=Stretch}" RenderTransformOrigin="0.5,0.5" Data="M398,593l0,66C398,687 404,707 416,720C428,733 447,738 474,737l148,0l0,42C622,803 635,815 661,815C688,815 701,803 701,779l0,-42l171,0C900,737 920,731 933,719C945,706 950,686 949,659l0,-64C949,569 937,556 912,556C888,556 876,569 876,595l0,50C876,662 866,672 847,673l-350,0C479,673 469,664 468,645l0,-52C468,568 456,556 433,556C410,556 398,568 398,593M263,329l0,-388C263,-85 251,-98 228,-98C205,-98 193,-85 193,-59l0,381l-2,0l-99,-10C80,311 71,314 65,321C59,328 56,337 56,350C56,370 67,381 89,384l46,3l58,95C158,517 123,550 88,579C70,595 61,608 61,619C61,642 71,654 92,654C103,654 116,647 132,634C144,654 158,687 175,733C194,786 213,812 232,812C259,812 272,800 272,775C272,754 242,693 181,590l27,-25l23,-19C247,573 265,607 284,649C295,673 309,685 326,685C351,685 363,674 363,651C363,642 346,608 311,549C280,496 246,443 209,389l97,7l-14,33C290,434 289,441 289,450C289,469 299,478 319,478C326,478 333,474 340,467C347,459 352,448 357,434l32,-80C391,359 396,364 403,367C410,370 420,374 433,377C468,385 497,393 521,401C554,412 588,424 623,437l3,1l0,122l-107,0C497,560 486,570 486,590C486,610 497,620 519,620l304,0C845,620 856,610 856,590C856,570 845,560 823,560l-132,0l0,-96C738,485 775,504 801,522C818,534 832,540 843,540C867,540 879,529 879,508C879,497 868,486 845,475l-36,-23C788,439 751,422 698,402l141,0C887,402 911,378 911,331l0,-232C911,51 887,27 839,27l-304,0C487,27 463,51 463,99l0,223C446,314 431,310 417,310C408,310 400,314 394,323C390,304 379,294 360,294C345,294 333,308 324,337M387,452C387,465 402,477 431,490l21,9C457,501 465,505 477,510C488,515 498,520 507,525C531,538 545,545 549,545C570,545 581,535 581,514C581,506 576,497 565,488C554,479 536,468 512,455C465,430 434,418 419,418C398,418 387,429 387,452M531,297l309,0l0,17C840,325 838,332 834,336C830,339 822,341 811,342l-254,0C548,342 541,340 538,337C534,333 532,327 531,318M364,13C355,13 347,18 341,27C335,36 331,48 328,65l-24,181C303,255 306,263 312,268C317,273 325,275 336,275C343,275 348,274 352,271C356,268 360,264 363,258C366,252 370,238 374,217C377,195 379,181 380,176l20,-125C402,39 400,30 393,23C386,16 376,13 364,13M152,235C152,182 146,128 134,75C122,21 106,-6 87,-6C64,-6 53,6 53,29l8,36C69,101 75,131 80,155C84,178 87,201 88,222C90,257 101,274 121,274C142,274 152,261 152,235M531,239l0,-43l309,0l0,43M531,115C531,98 540,88 559,87l252,0C829,87 839,96 840,115l0,22l-309,0M620,-17C620,-32 607,-44 580,-53C488,-83 424,-98 388,-98C363,-98 350,-86 350,-63C350,-43 369,-31 406,-26C447,-21 502,-8 569,12l17,4C609,16 620,5 620,-17M969,-59C969,-82 957,-94 934,-94C904,-94 863,-85 812,-68C760,-50 734,-33 734,-16C734,5 746,16 769,16C772,16 782,13 799,7C814,1 860,-10 936,-26C958,-31 969,-42 969,-59z">
                        <Path.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleY="-1" ScaleX="1"/>
                                <SkewTransform AngleY="0" AngleX="0"/>
                                <RotateTransform Angle="0"/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Path.RenderTransform>
                    </Path>
                    <Path Margin="0 5 0 0" Fill="{Binding ElementName=LogoIcon, Path=Fill}" Stretch="{Binding ElementName=LogoIcon, Path=Stretch}" RenderTransformOrigin="0.5,0.5" Data="M965,-48C965,-55 963,-63 959,-71C951,-86 939,-94 924,-94C915,-94 907,-92 900,-87C840,-52 779,3 718,80C690,47 658,15 623,-16C587,-47 549,-71 508,-88C500,-91 493,-93 487,-93C471,-93 460,-86 454,-71C451,-65 450,-59 450,-53C450,-41 458,-30 474,-21C545,18 611,70 670,135C639,184 617,237 602,293C587,349 577,412 572,482C559,459 545,439 532,420C521,405 510,398 498,398C492,398 486,400 480,404C468,411 462,420 462,431C462,438 465,446 471,455C500,500 527,552 550,610C573,667 593,725 610,782C613,792 617,800 624,805C631,810 638,812 647,812C660,812 671,809 679,802C687,795 691,785 691,774C691,771 690,767 689,762C676,712 658,663 636,615l289,0C937,615 947,612 954,606C961,599 965,590 965,579C965,555 952,543 925,543l-40,0C880,452 868,374 849,307C829,240 802,182 768,135C813,80 871,31 941,-11C957,-20 965,-33 965,-48M470,367C469,294 466,226 461,161C455,96 447,43 437,4C430,-25 419,-45 404,-57C389,-70 365,-76 332,-76C319,-76 304,-75 287,-73C258,-70 243,-58 243,-37C243,-21 247,-10 255,-3C262,3 275,5 294,4C299,3 307,3 316,3C333,3 345,6 352,11C359,16 363,25 366,38C382,124 390,224 390,338C390,360 378,371 354,371l-95,0C256,304 248,242 237,185C226,127 211,78 193,37C176,-2 160,-31 145,-50C130,-69 116,-79 101,-79C88,-79 78,-75 71,-68C64,-61 60,-52 60,-41C60,-34 62,-27 65,-21C68,-15 72,-8 79,1C115,50 141,112 157,189C165,226 171,279 176,347C181,414 183,491 184,577l-80,0C88,577 77,580 70,586C63,592 59,602 59,615C59,628 63,637 70,643C77,648 88,651 104,651l151,0l0,114C255,780 259,792 266,800C273,808 284,812 297,812C310,812 321,808 328,800C335,792 339,780 339,765l0,-114l127,0C497,651 513,639 513,614C513,601 509,592 502,586C495,580 483,577 466,577l-202,0C264,542 263,498 262,443l122,0C441,443 470,418 470,367M720,192C770,275 798,392 804,543l-168,0C643,459 653,390 666,335C679,280 697,232 720,192z">
                        <Path.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleY="-1" ScaleX="1"/>
                                <SkewTransform AngleY="0" AngleX="0"/>
                                <RotateTransform Angle="0"/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Path.RenderTransform>
                    </Path>
                </StackPanel>
                <DockPanel Grid.Column="1" VerticalAlignment="Top" HorizontalAlignment="Right">
                    <Button WindowChrome.IsHitTestVisibleInChrome="True" x:Name="btn_About" Style="{DynamicResource TitleBarButton}" Width="28" Height="28" ToolTip="關於" IsTabStop="False" Click="btn_About_Click" MouseLeave="btn_About_MouseLeave" IsKeyboardFocusedChanged="btn_About_IsKeyboardFocusedChanged" Content="&#xE91C;" FontFamily="{StaticResource SegoeMDL2}"/>
                    <Button WindowChrome.IsHitTestVisibleInChrome="True" x:Name="btn_Setting" Style="{DynamicResource TitleBarButton}" Width="28" Height="28" ToolTip="設定" IsTabStop="False" Click="btn_Setting_Click" MouseLeave="btn_Setting_MouseLeave" IsKeyboardFocusedChanged="btn_Setting_IsKeyboardFocusedChanged" Content="&#xEF58;" FontFamily="{StaticResource SegoeMDL2}"/>
                    <Button WindowChrome.IsHitTestVisibleInChrome="True" x:Name="btn_Region" Style="{DynamicResource TitleBarButton}" Width="28" Height="28" IsTabStop="False" MouseLeave="btn_Region_MouseLeave" IsKeyboardFocusedChanged="btn_Region_IsKeyboardFocusedChanged" Content="TW" Click="btn_Region_Click"/>
                    <Button WindowChrome.IsHitTestVisibleInChrome="True" x:Name="btn_Min" Style="{DynamicResource TitleBarButton}" FontSize="11" Width="45" Height="28" ToolTip="最小化" IsTabStop="False" Click="btn_Min_Click" MouseLeave="btn_Min_MouseLeave" IsKeyboardFocusedChanged="btn_Min_IsKeyboardFocusedChanged" Content="&#xE921;" FontFamily="{StaticResource SegoeMDL2}"/>
                    <Button WindowChrome.IsHitTestVisibleInChrome="True" x:Name="btn_Close" Style="{DynamicResource ButtonStyle}" FontSize="11" Width="48" Height="28" ToolTip="關閉" IsTabStop="False" Click="btn_Close_Click" MouseEnter="btn_Close_MouseEnter" MouseLeave="btn_Close_MouseLeave" IsKeyboardFocusedChanged="btn_Close_IsKeyboardFocusedChanged" Content="&#xE8BB;" FontFamily="{StaticResource SegoeMDL2}">
                        <Button.Resources>
                            <Style x:Key="ButtonStyle" TargetType="{x:Type Button}">
                                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
                                <Setter Property="Padding" Value="0"/>
                                <Setter Property="BorderThickness" Value="0"/>
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="BorderBrush" Value="{x:Null}"/>
                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                <Setter Property="VerticalAlignment" Value="Center"/>
                                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                <Setter Property="VerticalContentAlignment" Value="Center"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="{x:Type Button}">
                                            <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="True">
                                                <ContentPresenter ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" ContentStringFormat="{TemplateBinding ContentStringFormat}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Foreground" Value="White"/>
                                                    <Setter Property="Background" TargetName="Bd" Value="#FFd44027"/>
                                                </Trigger>
                                                <Trigger Property="IsKeyboardFocused" Value="True">
                                                    <Setter Property="Foreground" Value="White"/>
                                                    <Setter Property="Background" TargetName="Bd" Value="#FFd44027"/>
                                                </Trigger>
                                                <Trigger Property="IsPressed" Value="True">
                                                    <Setter Property="Foreground" Value="White"/>
                                                    <Setter Property="Background" TargetName="Bd" Value="#FFd44027"/>
                                                </Trigger>
                                                <Trigger Property="IsEnabled" Value="False">
                                                    <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Button.Resources>
                    </Button>
                </DockPanel>
            </Grid>
            <Frame x:Name="frame" IsHitTestVisible="True" NavigationUIVisibility="Hidden" Margin="1" IsTabStop="False" FocusVisualStyle="{x:Null}"/>
        </StackPanel>
    </Grid>
</Window>
